<html>
<head>
	<title>Free Wall plugin</title>
	<link rel="stylesheet" type="text/css" href="assets/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.css">
	<link rel="stylesheet" type="text/css" href="css/freewall.css">
</head>
<body>

	<div class="container">
		
		<h1>Hola</h1>

		<div id="freewall" class="freewall-container">
			<div class="item-card open" data-position="0-0">
				<div class="item-card-content">
					<div class="row">
						<div class="col-xs-12">
							<h2>1 Introducing the city</h2>
						</div>
							<div class="icon-box">
								<i class="fa fa-eur"></i>
							</div>
							<div class="icon-box pos-b">
								<a class="open_item_card">
									<i class="fa fa-angle-down"></i>
								</a>
							</div>
							<div class="item-card-open">
								<hr>
								<h3>About London</h3>
								<p>The most visited city in the world, London offers an incomparable city break with spectacular landmarks, theatres and attractions at your fingertips.</p>
								<p>"When a man is tired of London, he is tired of life" said famed English writer Samuel Johnson in 1777. In 2015, oversees visitors reportedly spent nearly £15 billion in the UK's capital; apparently a man isn't tired of spending money in this multi-cultural metropolis either.</p>
								<p>With signature landmarks including the Tower of London and Buckingham Palace, city icons such as red double decker buses and black cabs plus the buzzing nightlife scene in the emphatic West End, there's plenty to keep you busy. Boasting a population of around 8.5 million, London has become one of the most recognisable destinations in Europe and was recently declared the most visited city in the world with nearly 20 million overseas visitors in 2015. Vibrant, eclectic and unique, you can be sure of a good night's sleep when London has finished with you.</p>
							</div>
					</div>
				</div>
			</div>
			<div class="item-card" data-position="0-2">
				<div class="item-card-content">
					<div class="row">
						<div class="col-xs-12">
							<h2>2 Introducing the city</h2>
						</div>
							<div class="icon-box">
								<i class="fa fa-eur"></i>
							</div>
							<div class="icon-box pos-b">
								<a class="open_item_card">
									<i class="fa fa-angle-down"></i>
								</a>
							</div>
							<div class="item-card-open">
								<hr>
								<h3>About London</h3>
								<p>The most visited city in the world, London offers an incomparable city break with spectacular landmarks, theatres and attractions at your fingertips.</p>
								<p>"When a man is tired of London, he is tired of life" said famed English writer Samuel Johnson in 1777. In 2015, oversees visitors reportedly spent nearly £15 billion in the UK's capital; apparently a man isn't tired of spending money in this multi-cultural metropolis either.</p>
								<p>With signature landmarks including the Tower of London and Buckingham Palace, city icons such as red double decker buses and black cabs plus the buzzing nightlife scene in the emphatic West End, there's plenty to keep you busy. Boasting a population of around 8.5 million, London has become one of the most recognisable destinations in Europe and was recently declared the most visited city in the world with nearly 20 million overseas visitors in 2015. Vibrant, eclectic and unique, you can be sure of a good night's sleep when London has finished with you.</p>
							</div>
					</div>
				</div>
			</div>
			<div class="item-card" data-position="0-3">
				<div class="item-card-content">
					<div class="row">
						<div class="col-xs-12">
							<h2>3 Introducing the city</h2>
						</div>
							<div class="icon-box">
								<i class="fa fa-eur"></i>
							</div>
							<div class="icon-box pos-b">
								<a class="open_item_card">
									<i class="fa fa-angle-down"></i>
								</a>
							</div>
							<div class="item-card-open">
								<hr>
								<h3>About London</h3>
								<p>The most visited city in the world, London offers an incomparable city break with spectacular landmarks, theatres and attractions at your fingertips.</p>
								<p>"When a man is tired of London, he is tired of life" said famed English writer Samuel Johnson in 1777. In 2015, oversees visitors reportedly spent nearly £15 billion in the UK's capital; apparently a man isn't tired of spending money in this multi-cultural metropolis either.</p>
								<p>With signature landmarks including the Tower of London and Buckingham Palace, city icons such as red double decker buses and black cabs plus the buzzing nightlife scene in the emphatic West End, there's plenty to keep you busy. Boasting a population of around 8.5 million, London has become one of the most recognisable destinations in Europe and was recently declared the most visited city in the world with nearly 20 million overseas visitors in 2015. Vibrant, eclectic and unique, you can be sure of a good night's sleep when London has finished with you.</p>
							</div>
					</div>
				</div>
			</div>
			<div class="item-card">
				<div class="item-card-content" data-position="0-4">
					<div class="row">
						<div class="col-xs-12">
							<h2>4 Introducing the city</h2>
						</div>
							<div class="icon-box">
								<i class="fa fa-eur"></i>
							</div>
							<div class="icon-box pos-b">
								<a class="open_item_card">
									<i class="fa fa-angle-down"></i>
								</a>
							</div>
							<div class="item-card-open">
								<hr>
								<h3>About London</h3>
								<p>The most visited city in the world, London offers an incomparable city break with spectacular landmarks, theatres and attractions at your fingertips.</p>
								<p>"When a man is tired of London, he is tired of life" said famed English writer Samuel Johnson in 1777. In 2015, oversees visitors reportedly spent nearly £15 billion in the UK's capital; apparently a man isn't tired of spending money in this multi-cultural metropolis either.</p>
								<p>With signature landmarks including the Tower of London and Buckingham Palace, city icons such as red double decker buses and black cabs plus the buzzing nightlife scene in the emphatic West End, there's plenty to keep you busy. Boasting a population of around 8.5 million, London has become one of the most recognisable destinations in Europe and was recently declared the most visited city in the world with nearly 20 million overseas visitors in 2015. Vibrant, eclectic and unique, you can be sure of a good night's sleep when London has finished with you.</p>
							</div>
					</div>
				</div>
			</div>
			<div class="item-card" data-position="1-2">
				<div class="item-card-content">
					<div class="row">
						<div class="col-xs-12">
							<h2>5 Introducing the city</h2>
						</div>
							<div class="icon-box">
								<i class="fa fa-eur"></i>
							</div>
							<div class="icon-box pos-b">
								<a class="open_item_card">
									<i class="fa fa-angle-down"></i>
								</a>
							</div>
							<div class="item-card-open">
								<hr>
								<h3>About London</h3>
								<p>The most visited city in the world, London offers an incomparable city break with spectacular landmarks, theatres and attractions at your fingertips.</p>
								<p>"When a man is tired of London, he is tired of life" said famed English writer Samuel Johnson in 1777. In 2015, oversees visitors reportedly spent nearly £15 billion in the UK's capital; apparently a man isn't tired of spending money in this multi-cultural metropolis either.</p>
								<p>With signature landmarks including the Tower of London and Buckingham Palace, city icons such as red double decker buses and black cabs plus the buzzing nightlife scene in the emphatic West End, there's plenty to keep you busy. Boasting a population of around 8.5 million, London has become one of the most recognisable destinations in Europe and was recently declared the most visited city in the world with nearly 20 million overseas visitors in 2015. Vibrant, eclectic and unique, you can be sure of a good night's sleep when London has finished with you.</p>
							</div>
					</div>
				</div>
			</div>
			<div class="item-card" data-position="1-3">
				<div class="item-card-content">
					<div class="row">
						<div class="col-xs-12">
							<h2>6 Introducing the city</h2>
						</div>
							<div class="icon-box">
								<i class="fa fa-eur"></i>
							</div>
							<div class="icon-box pos-b">
								<a class="open_item_card">
									<i class="fa fa-angle-down"></i>
								</a>
							</div>
							<div class="item-card-open">
								<hr>
								<h3>About London</h3>
								<p>The most visited city in the world, London offers an incomparable city break with spectacular landmarks, theatres and attractions at your fingertips.</p>
								<p>"When a man is tired of London, he is tired of life" said famed English writer Samuel Johnson in 1777. In 2015, oversees visitors reportedly spent nearly £15 billion in the UK's capital; apparently a man isn't tired of spending money in this multi-cultural metropolis either.</p>
								<p>With signature landmarks including the Tower of London and Buckingham Palace, city icons such as red double decker buses and black cabs plus the buzzing nightlife scene in the emphatic West End, there's plenty to keep you busy. Boasting a population of around 8.5 million, London has become one of the most recognisable destinations in Europe and was recently declared the most visited city in the world with nearly 20 million overseas visitors in 2015. Vibrant, eclectic and unique, you can be sure of a good night's sleep when London has finished with you.</p>
							</div>
					</div>
				</div>
			</div>
			<div class="item-card" data-position="1-4">
				<div class="item-card-content">
					<div class="row">
						<div class="col-xs-12">
							<h2>7 Introducing the city</h2>
						</div>
							<div class="icon-box">
								<i class="fa fa-eur"></i>
							</div>
							<div class="icon-box pos-b">
								<a class="open_item_card">
									<i class="fa fa-angle-down"></i>
								</a>
							</div>
							<div class="item-card-open">
								<hr>
								<h3>About London</h3>
								<p>The most visited city in the world, London offers an incomparable city break with spectacular landmarks, theatres and attractions at your fingertips.</p>
								<p>"When a man is tired of London, he is tired of life" said famed English writer Samuel Johnson in 1777. In 2015, oversees visitors reportedly spent nearly £15 billion in the UK's capital; apparently a man isn't tired of spending money in this multi-cultural metropolis either.</p>
								<p>With signature landmarks including the Tower of London and Buckingham Palace, city icons such as red double decker buses and black cabs plus the buzzing nightlife scene in the emphatic West End, there's plenty to keep you busy. Boasting a population of around 8.5 million, London has become one of the most recognisable destinations in Europe and was recently declared the most visited city in the world with nearly 20 million overseas visitors in 2015. Vibrant, eclectic and unique, you can be sure of a good night's sleep when London has finished with you.</p>
							</div>
					</div>
				</div>
			</div>
		</div>

	</div>

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="assets/bootstrap/js/bootstrap.min.js"></script>
  <script src="assets/freewall/freewall.js"></script>

  <script>
    $(function() {
      //window.wall = new Freewall(".freewall-container");
   //    wall.fitWidth();
   //    wall.reset({
			//   selector: '.item-card',
			//   onResize: function() {
			//     this.fitWidth();
			//   }
			// });
		  wallwidth = $('.freewall-container').width();
		  console.log('wall width = ' + wallwidth);

		  wallwidthscale = (wallwidth / 4);
		  console.log('wall width scale = ' + wallwidthscale);

		  window.wall = new freewall('.freewall-container');

		  wall.reset({
	      selector: '.item-card',
	      animate: true,
		  	cache: false,
			  cellW: function(width) {
			    // width is the width of container;
			    return width/5;
			  },
	      cellH: 208,
	      gutterY: 10,
	      gutterX: 10,
	      draggable: true,
	      onBlockResize: function(){
	      	console.log('onBlockResize');
	      },
	      onResize: function() {
	          wall.fitWidth();
	      }
		  });
		  wall.fitWidth();

		  $('.open_item_card').click(function(){
		  	console.log('open_item_card');
		  	var wallContainer = $('.freewall-container');
		  	var este = $(this);
		  	var $dna = este.closest('.item-card');
		  	var $dnaID = $dna.attr('id');
		        var widthCard = $dna.width();
		        var heightCard = $dna.height();
		  	$dna.addClass('open');

		  	wallContainer.find('.item-card').each(function(index, el) {
		  		if ( $( this ).attr('id') == $dnaID ) {
		  			console.log($( this ).attr('id'));
		  			console.log($dnaID);
		  			
		  			var position = $dna.data('position').split("-");
		  			var position_y = position[0];
		  			var position_x = position[1];
		  			console.log(position_x);
		  			console.log(position_y);
		  			if ( position_x == 0 || position_x == 1 ) {
		  				position_x == 0;
		  			} else {
		  				position_x = position_x - 1;
		  			}
		  			
		        widthCard2 = $dna.width()*2;
		        heightCard2 = $dna.height()*2;

		        var $obj2 = { block: $dna, width: widthCard2, height: heightCard2};
		        wall.unFilter();
		        wall.fixSize($obj2);
		        wall.fixPos({ block: $dna, top:position_y,left:position_x});
		        //wall.refresh();

		  		} else{
		  		//return true;
		        console.log(widthCard);

		        var $obj = { block: $( this ), width: widthCard, height: heightCard};
		        wall.unFilter();
		        wall.fixSize($obj);
		        //wall.refresh();

		  		}
		  	});
		  	wall.refresh();
      });

    });
  </script>

</body>
</html>